<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Dashboard</title>
</head>
<body>
<h1>Welcome to the Dashboard!</h1>
<p>This is the dashboard page.</p>
<p th:if="${username}" th:text="'Welcome, ' + ${username}"></p>

<!-- Fetch Page Butonu -->
<button onclick="window.location.href='/fetch-page'">Go to Fetch Page</button>

<!-- Comment List -->
<h2>Comments</h2>
<ul>
    <!-- List comments -->
    <li th:each="comment : ${comments}">
        <span th:utext="${comment.text}"></span>
        <!-- Delete comment button -->
        <form th:action="@{/delete-comment}" method="post" style="display:inline;">
            <input type="hidden" name="commentId" th:value="${comment.id}">
            <button type="submit">Delete</button>
        </form>
    </li>
</ul>

<!-- Comment Submit Form -->
<h2>Leave a Comment</h2>
<form th:action="@{/dashboard/comment}" method="post">
    <label for="comment">Comment:</label>
    <textarea id="comment" name="comment" required></textarea>
    <br>
    <button type="submit">Submit</button>
</form>

<!-- Error Message -->
<p th:if="${error}" th:text="${error}"></p>

</body>
</html>